<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ADMIN KEY PANEL</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{background:#000;color:#00ff66;font-family:monospace}
.box{max-width:420px;margin:auto;border:2px solid #00ff66;padding:14px}
input,select,button{width:100%;padding:10px;margin:6px 0;background:#000;color:#00ff66;border:1px solid #00ff66}
button:hover{background:#003300}
.msg{margin-top:10px;font-size:13px}
</style>
</head>
<body>

<div class="box">
<h3>üîë ADMIN KEY</h3>

<input id="keyInput" placeholder="Key (ƒë·ªÉ tr·ªëng = auto)">
<select id="typeInput">
  <option value="FREE">FREE</option>
  <option value="VIP">VIP</option>
</select>

<input id="daysInput" placeholder="S·ªë ng√†y (vd: 1,7,30)">
<input id="deviceInput" placeholder="Device ID (DEV-xxxx)">

<button onclick="createKey()">T·∫†O KEY</button>
<div class="msg" id="msg"></div>
</div>

<script>
const SERVER="https://admin-key-server.onrender.com";

function createKey(){
  const key=document.getElementById("keyInput").value.trim();
  const type=document.getElementById("typeInput").value;
  const days=document.getElementById("daysInput").value;
  const device=document.getElementById("deviceInput").value.trim();
  const msg=document.getElementById("msg");

  if(!device){msg.innerText="‚ùå Thi·∫øu Device ID";return;}

  fetch(SERVER+"/create-key",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      key:key||null,
      type,
      days,
      device
    })
  })
  .then(r=>r.json())
  .then(d=>{
    if(!d.ok){msg.innerText="‚ùå "+d.msg;return;}
    msg.innerText=
      "‚úÖ T·∫†O KEY OK\n"+
      "KEY: "+d.key+"\n"+
      "H·∫æT H·∫†N: "+new Date(d.expire).toLocaleString();
  })
  .catch(()=>{
    msg.innerText="‚ùå Kh√¥ng k·∫øt n·ªëi server";
  });
}
</script>
</body>
</html>