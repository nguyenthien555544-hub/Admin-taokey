<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ADMIN KEY</title>
<style>
body{background:#000;color:#00ff66;font-family:monospace}
.box{max-width:420px;margin:auto;border:2px solid #00ff66;padding:12px}
input,select,button{width:100%;padding:10px;margin:6px 0;background:#000;color:#00ff66;border:1px solid #00ff66}
.key{display:flex;justify-content:space-between}
</style>
</head>
<body>

<div class="box">
<h3>üîë ADMIN PANEL</h3>

<input id="key" placeholder="Key">
<select id="type">
<option value="FREE">FREE</option>
<option value="VIP">VIP</option>
</select>

<input id="days" type="number" placeholder="S·ªë ng√†y (FREE=1)">
<button onclick="create()">T·∫†O KEY</button>

<div id="list"></div>
</div>

<script>
const S="https://admin-key-server.onrender.com";

async function load(){
  const d = await (await fetch(S+"/admin/keys")).json();
  list.innerHTML = Object.keys(d).map(k=>{
    let e=new Date(d[k].expire).toLocaleString();
    return `<div class="key">
      ${k} (${d[k].type}) ‚è≥ ${e}
      <button onclick="del('${k}')">‚ùå</button>
    </div>`;
  }).join("") || "Ch∆∞a c√≥ key";
}

async function create(){
  await fetch(S+"/admin/create",{
    method:"POST",
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      key:key.value,
      type:type.value,
      days:+days.value
    })
  });
  load();
}

async function del(k){
  await fetch(S+"/admin/delete",{
    method:"POST",
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({key:k})
  });
  load();
}

load();
</script>
</body>
</html>