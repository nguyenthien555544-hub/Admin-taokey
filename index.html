<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ADMIN KEY PANEL</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{background:#000;color:#00ff66;font-family:monospace}
.app{max-width:420px;margin:auto;padding:15px;border:2px solid #00ff66}
input,select,button{
 width:100%;padding:10px;margin:8px 0;
 background:#000;border:1px solid #00ff66;color:#00ff66
}
button{cursor:pointer}
.log{border:1px dashed #00ff66;padding:8px;margin-top:10px;font-size:13px}
</style>
</head>

<body>
<div class="app">
<h2>üîë ADMIN PANEL</h2>

<input id="device" placeholder="Device ID (VD: DEV-xxxx)">
<select id="type">
<option value="FREE">FREE</option>
<option value="VIP">VIP</option>
</select>
<input id="days" type="number" placeholder="S·ªë ng√†y (0 = vƒ©nh vi·ªÖn)">
<button onclick="createKey()">‚ûï T·∫†O KEY</button>

<div class="log" id="log">Ch∆∞a c√≥ d·ªØ li·ªáu</div>
</div>

<script>
/* ====== SERVER ====== */
const SERVER="https://admin-key-server.onrender.com";

/* ====== CREATE KEY ====== */
async function createKey(){
 const device=device.value.trim();
 const type=document.getElementById("type").value;
 const days=document.getElementById("days").value||0;

 if(!device) return alert("‚ùå Thi·∫øu Device ID");

 log.innerText="‚è≥ ƒêang t·∫°o key...";

 try{
  const res=await fetch(SERVER+"/admin/create-key",{
   method:"POST",
   headers:{"Content-Type":"application/json"},
   body:JSON.stringify({
    device,
    type,
    days
   })
  });

  const data=await res.json();

  if(!data.ok){
   log.innerText="‚ùå "+data.msg;
   return;
  }

  log.innerHTML=
   `‚úÖ T·∫†O KEY TH√ÄNH C√îNG<br>
    üîë KEY: <b>${data.key}</b><br>
    ‚è≥ H·∫æT H·∫†N: ${new Date(data.expire).toLocaleString()}`;

 }catch(err){
  log.innerText="‚ùå L·ªói k·∫øt n·ªëi server";
 }
}
</script>
</body>
</html>