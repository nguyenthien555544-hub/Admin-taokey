<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ADMIN KEY PANEL</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{background:#000;color:#00ff66;font-family:monospace}
.box{max-width:420px;margin:auto;border:2px solid #00ff66;padding:12px}
input,select,button{width:100%;padding:10px;margin:6px 0;background:#000;color:#00ff66;border:1px solid #00ff66}
.list{border:1px dashed #00ff66;padding:8px;margin-top:10px;font-size:13px}
.key{border-bottom:1px dashed #00ff66;padding:6px 0}
</style>
</head>
<body>

<div class="box">
<h3>üîê ADMIN KEY PANEL</h3>

<input id="key" placeholder="KEY">
<input id="device" placeholder="ID THI·∫æT B·ªä (DEV-XXXX)">
<select id="type">
<option value="FREE">FREE (1 DAY)</option>
<option value="VIP">VIP (Vƒ®NH VI·ªÑN)</option>
</select>

<button onclick="createKey()">‚ûï T·∫†O KEY</button>

<div class="list" id="list">Loading...</div>
</div>

<script>
const SERVER="https://admin-key-server.onrender.com";

async function loadKeys(){
 const r=await fetch(SERVER+"/admin/keys");
 const d=await r.json();
 let html="";
 Object.keys(d).forEach(k=>{
  html+=`
  <div class="key">
   <b>${k}</b><br>
   üÜî ${d[k].device}<br>
   üîë ${d[k].type}
   <button onclick="delKey('${k}')">‚ùå</button>
  </div>`;
 });
 list.innerHTML=html||"Ch∆∞a c√≥ key";
}

async function createKey(){
 if(!key.value||!device.value) return alert("Thi·∫øu d·ªØ li·ªáu");
 await fetch(SERVER+"/admin/create",{
  method:"POST",
  headers:{"Content-Type":"application/json"},
  body:JSON.stringify({
   key:key.value,
   device:device.value,
   type:type.value
  })
 });
 key.value="";device.value="";
 loadKeys();
}

async function delKey(k){
 await fetch(SERVER+"/admin/delete",{
  method:"POST",
  headers:{"Content-Type":"application/json"},
  body:JSON.stringify({key:k})
 });
 loadKeys();
}

loadKeys();
</script>
</body>
</html>