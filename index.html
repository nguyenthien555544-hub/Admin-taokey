<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ADMIN KEY PANEL</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{background:#000;color:#00ff66;font-family:monospace}
.box{max-width:420px;margin:auto;border:2px solid #00ff66;padding:12px}
input,select,button{width:100%;padding:10px;margin:6px 0;background:#000;color:#00ff66;border:1px solid #00ff66}
.key{display:flex;justify-content:space-between;margin:5px 0}
</style>
</head>
<body>

<div class="box">
<h3>üîë ADMIN PANEL</h3>

<input id="device" placeholder="Device ID">
<select id="type">
<option value="FREE">FREE (1 DAY)</option>
<option value="VIP">VIP (Vƒ®NH VI·ªÑN)</option>
</select>
<input id="days" placeholder="S·ªë ng√†y (FREE)" value="1">
<button onclick="createKey()">‚ûï T·∫†O KEY</button>

<hr>

<div id="list">Loading...</div>
</div>

<script>
const SERVER="https://admin-key-server.onrender.com";

async function createKey(){
 const res=await fetch(SERVER+"/create-key",{
  method:"POST",
  headers:{'Content-Type':'application/json'},
  body:JSON.stringify({
   type:type.value,
   days:days.value,
   device:device.value
  })
 });
 const d=await res.json();
 if(!d.ok) return alert(d.msg);
 alert("KEY: "+d.key);
 load();
}

async function load(){
 const res=await fetch(SERVER+"/list");
 const data=await res.json();
 list.innerHTML="";
 data.forEach(k=>{
  list.innerHTML+=`
   <div class="key">
    <span>${k.key}<br>${k.device}</span>
    <button onclick="del('${k.key}')">‚ùå</button>
   </div>`;
 });
}

async function del(k){
 await fetch(SERVER+"/delete/"+k);
 load();
}
load();
</script>

</body>
</html>